---
import { getCollection } from 'astro:content';
import { sortByOrder } from '@/utils/content-collections';
import MainLayout from '@/layouts/main-layout.astro';
import ProjectCard from '@/components/project-card.astro';

const projects = await getCollection('projects').then(sortByOrder);
---

<MainLayout
  title="Projects - Özgür Gökdemir"
  description="Explore my web development projects, including ecommerce sites, SaaS apps, and responsive websites built with React, Next.js, and Tailwind CSS."
>
  <section class="mx-auto max-w-7xl px-4 py-16 md:px-6 md:py-32 lg:px-8">
    <h1
      data-animate="fade-up"
      data-stagger-index="0"
      class="translate-y-3 text-4xl font-semibold tracking-tight opacity-0 blur-md md:text-center md:text-5xl lg:text-6xl"
    >
      Take a look at the projects <br class="hidden md:block" /> I’ve been building.
    </h1>
  </section>
  <section class="mx-auto max-w-7xl px-4 pb-16 md:px-6 md:pb-24 lg:px-8">
    <ul
      data-animate="fade-up"
      data-stagger-index="1"
      class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"
    >
      {
        projects.map(({ id, data }, index) => (
          <li
            class="translate-y-3 opacity-0 blur-md"
            data-stagger-index={index + 1}
            data-stagger-delay="150"
          >
            <ProjectCard
              href={`/projects/${id}`}
              title={data.title}
              description={data.description}
              image={data.image}
              color={data.color}
            />
          </li>
        ))
      }
    </ul>
  </section>
</MainLayout>
